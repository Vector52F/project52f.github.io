<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QF Blackjack — Project 52F</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=JetBrains+Mono:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #060e1a; --bg-card: #0d1e35; --gold: #c8a84b; --gold-glow: rgba(200,168,75,0.15);
            --white: #eeedf0; --muted: #6a7f96; --teal: #0d9488; --red: #e05a4b; --border: rgba(200,168,75,0.18);
        }
        body { background: var(--bg); color: var(--white); font-family: 'JetBrains Mono', monospace; display: flex; flex-direction: column; align-items: center; min-height: 100vh; margin: 0; padding: 20px; }
        body::before { content: ''; position: fixed; inset: 0; background-image: linear-gradient(rgba(200,168,75,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(200,168,75,0.03) 1px, transparent 1px); background-size: 40px 40px; z-index: -1; }
        
        header { text-align: center; margin-bottom: 30px; border-bottom: 1px solid var(--border); width: 100%; max-width: 600px; padding-bottom: 10px; }
        .game-title { font-family: 'Playfair Display', serif; font-size: 2rem; color: var(--gold); }
        
        .table { background: var(--bg-card); border: 1px solid var(--border); padding: 30px; border-radius: 8px; width: 100%; max-width: 500px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .hand-label { font-size: 0.6rem; letter-spacing: 0.2em; text-transform: uppercase; color: var(--muted); margin-bottom: 10px; }
        .card-area { display: flex; gap: 10px; min-height: 100px; margin-bottom: 20px; }
        .card { background: var(--white); color: var(--bg); width: 60px; height: 90px; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; animation: deal 0.3s ease-out; }
        
        @keyframes deal { from { transform: translateY(-50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        .controls { display: flex; gap: 10px; justify-content: center; margin-top: 20px; }
        button { background: var(--gold); color: var(--bg); border: none; padding: 10px 20px; font-family: 'JetBrains Mono'; font-weight: 700; cursor: pointer; text-transform: uppercase; letter-spacing: 0.1em; }
        button:disabled { background: var(--muted); cursor: not-allowed; }
        
        .status-msg { margin-top: 20px; text-align: center; font-style: italic; color: var(--gold); min-height: 1.5rem; }
        .stats-footer { margin-top: 30px; font-size: 0.7rem; color: var(--muted); border-top: 1px solid var(--border); padding-top: 10px; width: 100%; max-width: 500px; text-align: center; }
    </style>
</head>
<body>

<header>
    <div class="game-title">QF Blackjack</div>
    <div style="font-size: 0.6rem; color: var(--muted); letter-spacing: 0.2em;">UNIT: 50 $QF PER HAND</div>
</header>

<div class="table">
    <div class="hand-label">Dealer Score: <span id="dealer-score">?</span></div>
    <div id="dealer-cards" class="card-area"></div>

    <div class="hand-label">Your Score: <span id="player-score">0</span></div>
    <div id="player-cards" class="card-area"></div>

    <div class="controls">
        <button id="hit-btn" onclick="hit()" disabled>Hit</button>
        <button id="stand-btn" onclick="stand()" disabled>Stand</button>
        <button id="deal-btn" onclick="startNewGame()">Deal (50 $QF)</button>
    </div>
    
    <div id="status" class="status-msg">Welcome to the QF Table</div>
</div>

<div class="stats-footer">
    Sustainability Mode: 4% to 52F Pool · 1% to Team Wallet [cite: 2026-02-15]
</div>

<script>
    let deck = [], playerHand = [], dealerHand = [], gameOver = true;

    function createDeck() {
        const suits = ['♠', '♣', '♥', '♦'], values = ['2','3','4','5','6','7','8','9','10','J','Q','K','A'];
        deck = [];
        for (let s of suits) for (let v of values) deck.push({v, s});
        deck = deck.sort(() => Math.random() - 0.5);
    }

    function getVal(hand) {
        let sum = 0, aces = 0;
        hand.forEach(c => {
            if (['J','Q','K'].includes(c.v)) sum += 10;
            else if (c.v === 'A') { sum += 11; aces++; }
            else sum += parseInt(c.v);
        });
        while (sum > 21 && aces > 0) { sum -= 10; aces--; }
        return sum;
    }

    function renderCard(card, container) {
        const div = document.createElement('div');
        div.className = 'card';
        div.innerText = card.v;
        if (card.s === '♥' || card.s === '♦') div.style.color = 'var(--red)';
        container.appendChild(div);
    }

    function startNewGame() {
        createDeck();
        playerHand = [deck.pop(), deck.pop()];
        dealerHand = [deck.pop()];
        gameOver = false;
        document.getElementById('status').innerText = "Game in progress...";
        updateUI();
        document.getElementById('hit-btn').disabled = false;
        document.getElementById('stand-btn').disabled = false;
        document.getElementById('deal-btn').disabled = true;
    }

    function updateUI() {
        const pArea = document.getElementById('player-cards'), dArea = document.getElementById('dealer-cards');
        pArea.innerHTML = ''; dArea.innerHTML = '';
        playerHand.forEach(c => renderCard(c, pArea));
        dealerHand.forEach(c => renderCard(c, dArea));
        document.getElementById('player-score').innerText = getVal(playerHand);
        document.getElementById('dealer-score').innerText = getVal(dealerHand);
    }

    function hit() {
        playerHand.push(deck.pop());
        updateUI();
        if (getVal(playerHand) > 21) endRound("Bust! Dealer wins.");
    }

    function stand() {
        while (getVal(dealerHand) < 17) dealerHand.push(deck.pop());
        updateUI();
        const p = getVal(playerHand), d = getVal(dealerHand);
        if (d > 21 || p > d) endRound("You win!");
        else if (p < d) endRound("Dealer wins.");
        else endRound("Push - It's a tie.");
    }

    function endRound(msg) {
        gameOver = true;
        document.getElementById('status').innerText = msg;
        document.getElementById('hit-btn').disabled = true;
        document.getElementById('stand-btn').disabled = true;
        document.getElementById('deal-btn').disabled = false;
        
        // Sustainability logic [cite: 2026-02-15]
        console.log("Distribution: 4% to 52F Pool, 1% to Team Wallet");
    }
</script>

</body>
</html>

